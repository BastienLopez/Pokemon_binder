[tool:pytest]
# Configuration pytest principale pour supprimer tous les warnings
addopts = 
    --disable-warnings
    --tb=short
    -v
    -W ignore::DeprecationWarning
    -W ignore::PendingDeprecationWarning  
    -W ignore::UserWarning
    -W ignore::FutureWarning
    -W ignore::RuntimeWarning

# Suppression exhaustive des warnings par catégorie
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning
    ignore::FutureWarning
    ignore::RuntimeWarning
    ignore::ImportWarning
    ignore::pytest.PytestUnraisableExceptionWarning
    ignore::pytest.PytestCollectionWarning
    # Starlette/FastAPI warnings
    ignore:Please use.*python_multipart.*:PendingDeprecationWarning:starlette.*
    ignore:.*import multipart.*:PendingDeprecationWarning:starlette.*
    # Pydantic warnings  
    ignore:Support for class-based.*config.*:DeprecationWarning:pydantic.*
    ignore:.*allow_population_by_field_name.*:UserWarning:pydantic.*
    ignore:.*populate_by_name.*:UserWarning:pydantic.*
    ignore:.*validate_by_name.*:UserWarning:pydantic.*
    ignore:.*__get_validators__.*:DeprecationWarning:pydantic.*
    ignore:.*json_encoders.*:DeprecationWarning:pydantic.*
    ignore:.*PydanticDeprecatedSince20.*:DeprecationWarning:pydantic.*
    # Twisted warnings
    ignore:.*twisted.internet.defer.returnValue.*:DeprecationWarning:pytest_twisted.*
    ignore:.*returnValue.*deprecated.*:DeprecationWarning:pytest_twisted.*
    # Autres warnings courants
    ignore:.*pkg_resources.*:DeprecationWarning
    ignore:.*imp module.*:DeprecationWarning

# Répertoires de tests
testpaths = tests

# Patterns de découverte des tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Mode asyncio
asyncio_mode = auto